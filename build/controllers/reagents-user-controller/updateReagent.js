import Reagent from"../../models/reagents-model.js";export const updateReagent=async(e,t)=>{try{const s=t.locals.user?._id;if(!s)return t.status(400).json({message:"User not allowed"});const{casNumber:r,...a}=e.body;if(!r||0===Object.keys(a).length)return t.status(400).json({message:"Invalid request format: please review your fields"});const n=String(r).trim();if(!await Reagent.findOne({casNumber:n,createdBy:s}))return t.status(404).json({error:"Product not found"});const o=await Reagent.findOneAndUpdate({casNumber:n,createdBy:s},{$set:a},{new:!0});return o?t.status(200).json({message:"Product updated successfully",updatedProduct:o}):t.status(400).json({error:"No changes were made"})}catch(e){return t.status(500).json({error:"Internal server error",details:e.message})}};export default updateReagent;