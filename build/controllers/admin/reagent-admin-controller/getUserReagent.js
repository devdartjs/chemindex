import{z}from"zod";import{Types}from"mongoose";import Reagent from"../../../models/reagents-model.js";const getUserReagentSchema=z.object({userId:z.string().refine(e=>Types.ObjectId.isValid(e),{message:"Invalid user ID"}),casNumber:z.string().trim().min(1,"Invalid CAS number")}),getUserReagent=async(e,s)=>{try{const{userId:r,casNumber:t}=getUserReagentSchema.parse(e.params),a=await Reagent.find({createdBy:Types.ObjectId.createFromHexString(r),casNumber:t});return a&&0!==a.length?s.status(200).json({totalUserReagents:a.length,userReagent:a}):s.status(404).json({message:"There is no reagents for this user"})}catch(e){return e instanceof z.ZodError?s.status(400).json({errors:e.errors}):s.status(500).json({error:e.message})}};export default getUserReagent;