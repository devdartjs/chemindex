import{z}from"zod";import{Types}from"mongoose";import User from"../../../models/user-model.js";const deleteUserParamsSchema=z.object({userId:z.string().refine(e=>Types.ObjectId.isValid(e),{message:"Invalid user ID"})}),deleteUser=async(e,s)=>{try{const{userId:r}=deleteUserParamsSchema.parse(e.params);return await User.findOneAndDelete({_id:Types.ObjectId.createFromHexString(r),status:"user"})?s.status(200).json({message:"The user has been deleted"}):s.status(404).json({message:"User not found or already deleted"})}catch(e){return e instanceof z.ZodError?s.status(400).json({errors:e.errors}):s.status(500).json({error:e.message})}};export default deleteUser;