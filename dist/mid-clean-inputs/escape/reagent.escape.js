import escape from"escape-html";const escapeFields=["casNumber","reagentName","description","classe","brand","classification","local","volume","weight","molecularFormula","molecularWeight_g_per_mol","furtherInformations"];export const escapeReagentInput=(e,o,a)=>{try{escapeFields.forEach(o=>{e.body[o]&&(e.body[o]=escape(e.body[o]))}),Array.isArray(e.body.information)&&(e.body.information=e.body.information.map(e=>escape(e))),Array.isArray(e.body.composition)&&(e.body.composition=e.body.composition.map(e=>({substance:e.substance?escape(e.substance):"",concentration:e.concentration?escape(e.concentration):""}))),console.log("Escaped Reagent Fields:",e.body),a()}catch(e){return o.status(500).json({error:"Failed to escape reagent fields"})}};